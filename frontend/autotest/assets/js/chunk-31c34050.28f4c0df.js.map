{"version":3,"sources":["webpack:///./src/views/editor/dbedit/DbEditItem.vue?7535","webpack:///./src/views/editor/dbedit/DbEdit.vue?9a15","webpack:///./src/views/editor/dbedit/DbEditItem.vue?8818","webpack:///src/views/editor/dbedit/DbEditItem.vue","webpack:///./src/views/editor/dbedit/DbEditItem.vue?292c","webpack:///./src/views/editor/dbedit/DbEditItem.vue","webpack:///src/views/editor/dbedit/DbEdit.vue","webpack:///./src/views/editor/dbedit/DbEdit.vue?5586","webpack:///./src/views/editor/dbedit/DbEdit.vue","webpack:///./src/views/editor/dbedit/DbEdit.vue?be71"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","padding","on","addItemList","_v","notifyComponentTransmit","reset","staticStyle","model","value","callback","$$v","editableTabsValue","expression","_l","item","index","key","title","name","submitFlag","resetState","handleData","resultTextarea","dialogVisible","changeDialogVisible","staticRenderFns","ref","form","$set","slot","label","handleTabClick","formTabsName","tableHeight","tabActive","vfContent","isPreview","handleTableData","preview","results","result","components","ResultDialog","TableItem","EditableCell","ClosePlate","OpenPlate","SubJsonItem","DisplayInput","data","windowHeight","vfTypeOptions","dbName","vfTypeValue","sql","activeNames","createCompleteSymbol","vfType","receiveCount","props","stepIndex","text","parentResetState","watch","handler","handleReset","console","log","notifyTransmit","$emit","mounted","document","documentElement","clientHeight","fetTableHeight","methods","resetHeight","Promise","resolve","then","tableTop","getClientHeight","tab","handleChange","val","resumeSymbol","Object","assign","$data","$options","call","tableH","windowH","createResult","handleStrFields","rest","slice","component","itemList","currentItemIndex","receivedNum","push","args","length","createRes","resumeState","convert2json","keys","sort","map","newData","jsonData","addTab","newTabName"],"mappings":"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","file":"assets/js/chunk-31c34050.28f4c0df.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DbEditItem.vue?vue&type=style&index=0&id=6948be12&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-card',{staticClass:\"tools-card\",attrs:{\"shadow\":\"always\",\"body-style\":{ padding: '3px 0' }}},[_c('el-row',[_c('el-col',{attrs:{\"span\":2}},[_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"新增步骤\",\"placement\":\"top-end\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.addItemList}},[_c('i',{staticClass:\"el-icon-document-add\"}),_vm._v(\" 新增 \")])],1)],1),_c('el-col',{attrs:{\"span\":2}},[_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"生成所有内容的结果\",\"placement\":\"top-end\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.notifyComponentTransmit}},[_c('i',{staticClass:\"el-icon-thumb\"}),_vm._v(\" 确定 \")])],1)],1),_c('el-col',{attrs:{\"span\":2}},[_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"清空所有内容\",\"placement\":\"top-start\"}},[_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":_vm.reset}},[_c('i',{staticClass:\"el-icon-delete\"}),_vm._v(\" 清空 \")])],1)],1)],1)],1),_c('el-main',{staticStyle:{\"padding\":\"0 5px\"}},[_c('el-tabs',{attrs:{\"type\":\"border-card\"},model:{value:(_vm.editableTabsValue),callback:function ($$v) {_vm.editableTabsValue=$$v},expression:\"editableTabsValue\"}},_vm._l((_vm.itemList),function(item,index){return _c('el-tab-pane',{key:item.index,attrs:{\"label\":item.title,\"name\":item.name}},[_c('db-edit-item',{key:item.index,attrs:{\"step-index\":item.index,\"submit-flag\":_vm.submitFlag,\"parent-reset-state\":_vm.resetState},on:{\"receiveData\":_vm.handleData}})],1)}),1)],1),_c('result-dialog',{attrs:{\"text-content\":_vm.resultTextarea,\"from-dialog-visible\":_vm.dialogVisible},on:{\"changeDialogVisible\":_vm.changeDialogVisible}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',{ref:\"form\",staticStyle:{\"width\":\"100%\"},attrs:{\"model\":_vm.form,\"label-width\":\"1px\"}},[_c('el-row',{staticClass:\"form-el-row\"},[_c('el-col',{attrs:{\"span\":2}},[_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"请输入在基础配置中配置的数据库名\",\"placement\":\"top-end\"}},[_c('div',{staticClass:\"form-item-title\"},[_c('span',[_vm._v(\"数据库db：\")])])])],1),_c('el-col',{attrs:{\"span\":2}},[_c('el-form-item',{attrs:{\"label\":\"\"}},[_c('el-input',{attrs:{\"placeholder\":\"数据库名\"},model:{value:(_vm.form.dbName),callback:function ($$v) {_vm.$set(_vm.form, \"dbName\", $$v)},expression:\"form.dbName\"}})],1)],1),_c('el-col',{attrs:{\"span\":2}},[_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"验证类型\",\"placement\":\"top-start\"}},[_c('div',{staticClass:\"form-item-title\"},[_c('span',[_vm._v(\"验证类型\")]),_c('el-popover',{attrs:{\"placement\":\"top-start\",\"trigger\":\"click\",\"title\":\"说明：\",\"content\":\"\\\"=\\\": 相等; \\\"!=\\\": 不相等;\\\"~\\\": 包含; \\\"!~\\\": 不包含\"}},[_c('i',{staticClass:\"el-icon-chat-dot-square\",attrs:{\"slot\":\"reference\"},slot:\"reference\"})])],1)])],1),_c('el-col',{attrs:{\"span\":2}},[_c('el-form-item',{attrs:{\"label\":\"\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择验证类型\"},model:{value:(_vm.form.vfTypeValue),callback:function ($$v) {_vm.$set(_vm.form, \"vfTypeValue\", $$v)},expression:\"form.vfTypeValue\"}},_vm._l((_vm.form.vfTypeOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1)],1),_c('el-col',{attrs:{\"span\":2}},[_c('div',{staticClass:\"form-item-title\"},[_c('span',[_vm._v(\"SQL语句：\")])])]),_c('el-col',{attrs:{\"span\":14}},[_c('el-form-item',{attrs:{\"label\":\"\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入SQL语句\"},model:{value:(_vm.form.sql),callback:function ($$v) {_vm.$set(_vm.form, \"sql\", $$v)},expression:\"form.sql\"}})],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":2}},[_c('div',{staticClass:\"form-item-title\"},[_c('span',[_vm._v(\"验证内容：\")])])]),_c('el-col',{attrs:{\"span\":22}},[_c('el-tabs',{attrs:{\"type\":\"border-card\"},on:{\"tab-click\":_vm.handleTabClick},model:{value:(_vm.formTabsName),callback:function ($$v) {_vm.formTabsName=$$v},expression:\"formTabsName\"}},[_c('el-tab-pane',{ref:\"tablePage\",attrs:{\"label\":\"验证内容\",\"name\":\"vfContent\"}},[_c('table-item',{attrs:{\"item-height\":_vm.tableHeight,\"is-active\":_vm.tabActive.vfContent,\"is-submit\":_vm.isPreview,\"reset-flag\":_vm.resetState},on:{\"receiveTableData\":_vm.handleTableData}})],1)],1)],1)],1)],1),_c('el-row',{staticStyle:{\"margin-top\":\"10px\"}},[_c('el-col',{attrs:{\"span\":2}},[_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"预览当前的内容\",\"placement\":\"top-end\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.preview}},[_c('i',{staticClass:\"el-icon-document\"}),_vm._v(\" 预览\")])],1)],1),_c('el-col',{attrs:{\"span\":2}},[_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"清空当前的内容\",\"placement\":\"top-start\"}},[_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":_vm.reset}},[_c('i',{staticClass:\"el-icon-delete\"}),_vm._v(\" 清空\")])],1)],1)],1),_c('result-dialog',{attrs:{\"text-content\":_vm.results.result,\"from-dialog-visible\":_vm.results.dialogVisible},on:{\"changeDialogVisible\":_vm.changeDialogVisible}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-form\r\n      ref=\"form\"\r\n      :model=\"form\"\r\n      label-width=\"1px\"\r\n      style=\"width: 100%\">\r\n\r\n      <el-row class=\"form-el-row\">\r\n        <el-col :span=\"2\">\r\n          <el-tooltip effect=\"dark\" content=\"请输入在基础配置中配置的数据库名\" placement=\"top-end\">\r\n            <div class=\"form-item-title\">\r\n              <span>数据库db：</span>\r\n            </div>\r\n          </el-tooltip>\r\n\r\n        </el-col>\r\n\r\n        <el-col :span=\"2\">\r\n          <el-form-item label=\"\" >\r\n            <el-input\r\n                v-model=\"form.dbName\"\r\n                placeholder=\"数据库名\"></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n\r\n        <el-col :span=\"2\">\r\n          <el-tooltip effect=\"dark\" content=\"验证类型\" placement=\"top-start\">\r\n            <div class=\"form-item-title\">\r\n              <span>验证类型</span>\r\n              <el-popover\r\n                  placement=\"top-start\"\r\n                  trigger=\"click\"\r\n                  title=\"说明：\"\r\n                  content='\"=\": 相等; \"!=\": 不相等;\"~\": 包含; \"!~\": 不包含'>\r\n                <i slot=\"reference\" class=\"el-icon-chat-dot-square\"></i>\r\n              </el-popover>\r\n\r\n            </div>\r\n          </el-tooltip>\r\n\r\n        </el-col>\r\n\r\n        <el-col :span=\"2\">\r\n          <el-form-item label=\"\">\r\n            <el-select\r\n                v-model=\"form.vfTypeValue\"\r\n                placeholder=\"请选择验证类型\">\r\n              <el-option\r\n                  v-for=\"item in form.vfTypeOptions\"\r\n                  :key=\"item.value\"\r\n                  :label=\"item.label\"\r\n                  :value=\"item.value\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n\r\n        <el-col :span=\"2\">\r\n          <div class=\"form-item-title\">\r\n            <span>SQL语句：</span>\r\n          </div>\r\n        </el-col>\r\n\r\n        <el-col :span=\"14\">\r\n          <el-form-item label=\"\">\r\n            <el-input v-model=\"form.sql\" placeholder=\"请输入SQL语句\"></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <el-row>\r\n        <el-col :span=\"2\">\r\n          <div class=\"form-item-title\">\r\n            <span>验证内容：</span>\r\n          </div>\r\n        </el-col>\r\n\r\n        <el-col :span=\"22\">\r\n          <el-tabs type=\"border-card\" @tab-click=\"handleTabClick\" v-model=\"formTabsName\">\r\n            <el-tab-pane\r\n                label=\"验证内容\"\r\n                name=\"vfContent\"\r\n                ref=\"tablePage\">\r\n              <table-item\r\n                  :item-height=\"tableHeight\"\r\n                  :is-active=\"tabActive.vfContent\"\r\n                  :is-submit=\"isPreview\"\r\n                  :reset-flag=\"resetState\"\r\n                  @receiveTableData=\"handleTableData\">\r\n              </table-item>\r\n            </el-tab-pane>\r\n          </el-tabs>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n\r\n    <el-row style=\"margin-top: 10px\">\r\n      <el-col :span=\"2\">\r\n        <el-tooltip effect=\"dark\" content=\"预览当前的内容\" placement=\"top-end\">\r\n          <el-button\r\n              type=\"primary\"\r\n              size=\"small\"\r\n              @click=\"preview\"><i class=\"el-icon-document\"></i> 预览</el-button>\r\n        </el-tooltip>\r\n      </el-col>\r\n\r\n      <el-col :span=\"2\">\r\n        <el-tooltip effect=\"dark\" content=\"清空当前的内容\" placement=\"top-start\">\r\n          <el-button\r\n              type=\"danger\"\r\n              size=\"small\"\r\n              @click=\"reset\">\r\n            <i class=\"el-icon-delete\"></i> 清空</el-button>\r\n        </el-tooltip>\r\n      </el-col>\r\n    </el-row>\r\n\r\n    <result-dialog :text-content=\"results.result\"\r\n                   :from-dialog-visible=\"results.dialogVisible\"\r\n                   @changeDialogVisible=\"changeDialogVisible\">\r\n    </result-dialog>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport InputItem from \"@/views/editor/common/inputfield/InputItem\";\r\nimport PartNameText from \"@/views/editor/prepareedit/parts/PartNameText\";\r\nimport ContenToolBar from \"@/views/editor/common/toolbar/ContenToolBar\";\r\nimport ElRowCustom from \"@/views/editor/common/elrowcustom/ElRowCustom\";\r\nimport JsonEditByDialog from \"@/views/editor/common/jsoneditor/JsonEditByDialog\";\r\nimport ElColCustom from \"@/views/editor/common/elrowcustom/ElColCustom\";\r\nimport SubJsonItem from \"@/views/editor/prepareedit/parts/SubJsonItem\";\r\nimport DisplayInput from \"@/views/editor/common/result/DisplayInput\";\r\nimport OpenPlate from \"@/views/editor/common/expansion/OpenPlate\";\r\nimport ClosePlate from \"@/views/editor/common/expansion/ClosePlate\";\r\nimport EditableCell from \"@/views/editor/common/table/EditableCell\";\r\nimport TableItem from \"@/views/editor/common/table/TableItem\";\r\nimport ResultDialog from \"@/views/editor/common/result/ResultDialog\";\r\nimport {preReset, table2jsonStr} from \"@/assets/js/utils\";\r\n\r\nexport default {\r\n  name: \"DbEditItem\",\r\n  components: {\r\n    ResultDialog,\r\n    TableItem,\r\n    EditableCell,\r\n    ClosePlate,\r\n    OpenPlate,\r\n    SubJsonItem,\r\n    DisplayInput, ElColCustom, JsonEditByDialog, ElRowCustom, PartNameText, InputItem, ContenToolBar},\r\n\r\n  data() {\r\n    return {\r\n      tableHeight: 0,\r\n      windowHeight: 0,\r\n      formTabsName: 'vfContent',\r\n\r\n      tabActive: {\r\n        vfContent: false\r\n      },\r\n\r\n      // 表单信息\r\n      form: {\r\n\r\n        vfTypeOptions: [{\r\n          value: '=',\r\n          label: '相等'\r\n        }, {\r\n          value: '!=',\r\n          label: '不相等'\r\n        }, {\r\n          value: '~',\r\n          label: '包含'\r\n        }, {\r\n          value: '!~',\r\n          label: '不包含'\r\n        }],\r\n        dbName: '', // 数据库名\r\n        vfTypeValue: '=', // 验证类型\r\n        sql: '', // SQL语句\r\n\r\n      },\r\n\r\n      isPreview: false,\r\n\r\n      resetState: false,\r\n\r\n      activeNames: ['1'],\r\n\r\n      createCompleteSymbol: false, // 是否生成结果标志位\r\n\r\n      results: {\r\n        dbName: '',\r\n        vfType: '',\r\n        sql: '',\r\n        vfContent: '',\r\n\r\n        result: '',\r\n        dialogVisible: false, // 用于控制预览结果展示的显示\r\n        receiveCount: 0, // 已发送table数据的子组件个数，用于判断是否所有的请求参数都已将数据传送完成\r\n\r\n      },\r\n    }\r\n  },\r\n\r\n  props: {\r\n    stepIndex: '',\r\n    text: '',\r\n    parentResetState: false,\r\n    submitFlag: false\r\n  },\r\n  watch: {\r\n    \"parentResetState\": {\r\n      handler: function () {\r\n        this.handleReset()\r\n      }\r\n    },\r\n    \"submitFlag\": {\r\n      handler: function () {\r\n        if (this.submitFlag === true) {\r\n          console.log('-----------');\r\n          this.notifyTransmit()\r\n        }\r\n      }\r\n    },\r\n    \"createCompleteSymbol\": {\r\n      handler: function () {\r\n        if (this.createCompleteSymbol && this.submitFlag === true) {\r\n          this.$emit(\"receiveData\", [this.results.result, this.stepIndex])\r\n          console.log('==============');\r\n        } else if (this.createCompleteSymbol === true) {\r\n          console.log('============');\r\n          this.results.dialogVisible = true\r\n        }\r\n        this.createCompleteSymbol = false\r\n      }\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    this.windowHeight = document.documentElement.clientHeight\r\n    // console.log(this.windowHeight);\r\n    this.fetTableHeight();\r\n  },\r\n\r\n  methods: {\r\n    resetHeight() {\r\n      return new Promise((resolve, reject) => {\r\n        this.tableH = 0\r\n        resolve()\r\n      })\r\n    },\r\n    // 设置table高度\r\n    fetTableHeight() {\r\n      this.resetHeight().then(res => {\r\n        let heightObj = this.$refs.tablePage.$el.getBoundingClientRect()\r\n        let tableTop = heightObj.top\r\n        this.tableHeight = this.windowHeight - tableTop - 100\r\n        this.tabActive.vfContent =  true\r\n        console.log(this.tableHeight);\r\n        return document.documentElement.clientHeight - tableTop - 100\r\n      })\r\n    },\r\n\r\n    getClientHeight() {\r\n       document.documentElement.clientHeight\r\n    },\r\n    handleTabClick (tab, event) {\r\n      // console.log(tab.name);\r\n      // console.log(event);\r\n      this.tabActive[tab.name] = true\r\n    },\r\n\r\n    handleChange(val) {\r\n      console.log(val);\r\n    },\r\n\r\n    //预览\r\n    preview() {\r\n      this.notifyTransmit()\r\n    },\r\n\r\n    //通知table传送数值，并生成类json格式字符串\r\n    notifyTransmit() {\r\n      // 对isPreview进行取反，子组件监听该值的变化，发生变化后，会将各自的table数据通过触发handleTableData函数进行处理\r\n      // handleTableData函数统计已发送的表格子组件个数，当满足条件后，会再触发convert2json函数，生成结果，存储到this.results.result中\r\n      // convert2json函数处理完数据后，会设置this.createCompleteSymbol=true，监听该变量的函数会再将结果发送出去\r\n      this.isPreview = true\r\n\r\n    },\r\n\r\n    // 恢复各状态\r\n    resumeSymbol() {\r\n      this.results.receiveCount = 0\r\n      this.isPreview = false\r\n    },\r\n\r\n    changeDialogVisible(val) {\r\n      this.results.dialogVisible = val\r\n      if (val === false) {\r\n        this.results.result = ''\r\n      }\r\n    },\r\n\r\n    //重置当前步骤\r\n    reset() {\r\n      let tips = \"是否清空当前步骤的内容\"\r\n      preReset(this, () => {\r\n        this.handleReset()\r\n      },tips)\r\n    },\r\n\r\n    handleReset() {\r\n      let tableH = this.tableHeight\r\n      let windowH = this.windowHeight\r\n      Object.assign(this.$data, this.$options.data.call(this))\r\n      this.tableHeight = tableH\r\n      this.windowHeight = windowH\r\n      this.fetTableHeight()\r\n      this.resetState = Object.assign(this.resetState, !this.resetState)\r\n    },\r\n\r\n    //生成当前步骤的结果\r\n    createResult() {\r\n\r\n      this.handleStrFields()\r\n\r\n      if (this.form.sql && this.form.dbName) {\r\n        let rest = '{\"sql' + (this.stepIndex+1) + '\"' + ':' + '{'\r\n        rest += this.results.sql + ','\r\n        rest += this.results.dbName + ','\r\n        rest += this.results.vfType + ','\r\n        if (this.results.vfContent) {\r\n          rest += this.results.vfContent\r\n        } else {\r\n          rest = rest.slice(0, -1)\r\n        }\r\n\r\n        rest += '}}'\r\n        console.log(rest);\r\n        this.results.result = rest\r\n      } else {\r\n        this.results.result = \"\"\r\n      }\r\n\r\n      this.createCompleteSymbol = true\r\n      console.log('set this.createCompleteSymbol');\r\n\r\n    },\r\n\r\n    handleStrFields() {\r\n      this.results.sql = '\"sql\":' + '\"' + this.form.sql + '\"'\r\n      this.results.dbName = '\"db\":' + '\"' + this.form.dbName + '\"'\r\n      this.results.vfType = '\"type\":' + '\"' + this.form.vfTypeValue + '\"'\r\n    },\r\n\r\n    handleTableData(data) {\r\n      if (data === \"{}\") {\r\n        this.results.vfContent = ''\r\n      } else {\r\n        this.results.vfContent = '\"check\":'+ data\r\n      }\r\n\r\n      this.createResult()\r\n      this.resumeSymbol()\r\n\r\n    },\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  .container {\r\n    height: 350px;\r\n    border: 1px;\r\n    solid-color: #fcf8f8;\r\n  }\r\n  .more-options {\r\n    background: #fafafa;\r\n  }\r\n\r\n  .more-lyric-enter,\r\n  .more-lyric-leave-to {\r\n    opacity: 0;\r\n    transform: translateX(10px);\r\n  }\r\n  /*.more-lyric-enter-to,*/\r\n  /*.more-lyric-leave {*/\r\n  /*  opacity: 1;*/\r\n  /*}*/\r\n  .more-lyric-enter-active {\r\n    transition: all .2s ease;\r\n  }\r\n  .more-lyric-leave-active {\r\n    /*transition: all 0.2s cubic-bezier(1.0, 0.5, 0.8, 1.0);*/\r\n  }\r\n  .form-item-title {\r\n    margin-top: 8px;\r\n    text-align: right;\r\n  }\r\n  .form-el-row {\r\n    height: 100%;\r\n  }\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DbEditItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DbEditItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DbEditItem.vue?vue&type=template&id=6948be12&scoped=true&\"\nimport script from \"./DbEditItem.vue?vue&type=script&lang=js&\"\nexport * from \"./DbEditItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DbEditItem.vue?vue&type=style&index=0&id=6948be12&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6948be12\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div >\r\n    <el-card shadow=\"always\" class=\"tools-card\" :body-style=\"{ padding: '3px 0' }\">\r\n\r\n      <el-row>\r\n        <el-col :span=\"2\">\r\n          <el-tooltip effect=\"dark\" content=\"新增步骤\" placement=\"top-end\">\r\n            <el-button\r\n              type=\"primary\"\r\n              size=\"small\"\r\n              @click=\"addItemList\">\r\n              <i class=\"el-icon-document-add\"></i> 新增\r\n            </el-button>\r\n          </el-tooltip>\r\n\r\n        </el-col>\r\n\r\n        <el-col :span=\"2\">\r\n          <el-tooltip effect=\"dark\" content=\"生成所有内容的结果\" placement=\"top-end\">\r\n            <el-button\r\n              type=\"primary\"\r\n              size=\"small\"\r\n              @click=\"notifyComponentTransmit\">\r\n              <i class=\"el-icon-thumb\"></i> 确定\r\n            </el-button>\r\n          </el-tooltip>\r\n        </el-col>\r\n\r\n        <el-col :span=\"2\">\r\n          <el-tooltip effect=\"dark\" content=\"清空所有内容\" placement=\"top-start\">\r\n            <el-button\r\n              type=\"danger\"\r\n              size=\"small\"\r\n              @click=\"reset\">\r\n              <i class=\"el-icon-delete\"></i> 清空\r\n            </el-button>\r\n          </el-tooltip>\r\n        </el-col>\r\n      </el-row>\r\n\r\n    </el-card>\r\n      <el-main style=\"padding: 0 5px\">\r\n      <el-tabs v-model=\"editableTabsValue\" type=\"border-card\">\r\n        <el-tab-pane\r\n          v-for=\"(item, index) in itemList\"\r\n          :key=\"item.index\"\r\n          :label=\"item.title\"\r\n          :name=\"item.name\">\r\n          <db-edit-item\r\n              :step-index=\"item.index\"\r\n              :key=\"item.index\"\r\n              :submit-flag=\"submitFlag\"\r\n              @receiveData=\"handleData\"\r\n              :parent-reset-state=\"resetState\">\r\n\r\n          </db-edit-item>\r\n        </el-tab-pane>\r\n      </el-tabs>\r\n    </el-main>\r\n\r\n    <result-dialog :text-content=\"resultTextarea\"\r\n                   :from-dialog-visible=\"dialogVisible\"\r\n                   @changeDialogVisible=\"changeDialogVisible\">\r\n    </result-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport DbEditItem from \"@/views/editor/dbedit/DbEditItem\";\r\nimport TitleText from \"@/views/editor/common/TitleText\";\r\nimport ResultDialog from \"@/views/editor/common/result/ResultDialog\";\r\nimport ContenToolBar from \"@/views/editor/common/toolbar/ContenToolBar\";\r\nimport NarMenu from \"@/views/editor/common/narmenu/NarMenu\";\r\nimport NarMenuItem from \"@/views/editor/common/narmenu/NarMenuItem\";\r\nimport {preReset} from \"@/assets/js/utils\";\r\n\r\n\r\nexport default {\r\n  name: \"DbEdit\",\r\n  components: {NarMenuItem, NarMenu, ContenToolBar, TitleText, ResultDialog, DbEditItem},\r\n  data() {\r\n    return {\r\n      editableTabsValue: '0',\r\n      itemList: [{title: 'SQL 1', name: '0', index: 0}],\r\n      currentItemIndex: 0, // 当前步骤下标\r\n      submitFlag: false, // 确定按钮的标识，用于给子组件传递信号是否点击了确定按钮\r\n      dialogVisible: false, // 展示结果页的标识\r\n\r\n      resetState: false, // 清空按钮的标识\r\n      receivedNum:0, //生成结果时，临时记录已接收子组件结果的数量\r\n      resultTextarea: '',\r\n      results: {}\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    changeDialogVisible(val) {\r\n      this.dialogVisible = val\r\n      console.log('============');\r\n      console.log(val);\r\n      if (val === false) {\r\n        this.resultTextarea = ''\r\n      }\r\n    },\r\n    addItemList() {\r\n      this.currentItemIndex++\r\n      this.editableTabsValue = this.currentItemIndex+''\r\n      this.itemList.push({\r\n        title: 'SQL '+ (this.currentItemIndex+1),\r\n        index: this.currentItemIndex,\r\n        name: this.currentItemIndex + ''\r\n      })\r\n    },\r\n\r\n    reset() {\r\n      let tips = \"是否清空所有步骤的内容\"\r\n      preReset(this, () => {\r\n        Object.assign(this.$data, this.$options.data())\r\n        this.resetState = Object.assign(this.resetState, !this.resetState)\r\n      },tips)\r\n    },\r\n\r\n    //处理子组件传送的数据\r\n    handleData(args) {\r\n\r\n\r\n      this.results[args[1]] = args[0]\r\n      this.receivedNum ++\r\n      if (this.receivedNum === this.itemList.length) {\r\n        this.createRes()\r\n        this.resumeState()\r\n      }\r\n    },\r\n\r\n    //通知子组件传送数据过来\r\n    notifyComponentTransmit() {\r\n      this.submitFlag = true\r\n      // this.submitFlag = false\r\n    },\r\n\r\n    //将各子组件传送过来的数据拼接为类数组格式\r\n    convert2json() {\r\n      let newData = {}\r\n      let jsonData = \"{\"\r\n      Object.keys(this.results).sort().map(key => {\r\n        newData[key] = this.results[key]\r\n      })\r\n\r\n      for (let key in newData) {\r\n        if (newData[key]) {\r\n          jsonData += newData[key].slice(1, -1) + ','\r\n        }\r\n      }\r\n\r\n      if (jsonData === \"{\") {\r\n        jsonData += \"}\"\r\n      } else {\r\n        jsonData = jsonData.slice(0, -1) + \"}\"\r\n      }\r\n\r\n      this.resultTextarea = jsonData\r\n    },\r\n\r\n    //所有子组件的数据传送过来后，触发将数据转换为类数据格式\r\n    createRes() {\r\n      this.convert2json()\r\n      this.changeDialogVisible(true)\r\n    },\r\n\r\n    //恢复各信号量\r\n    resumeState() {\r\n      this.receivedNum = 0\r\n      this.submitFlag = false\r\n    },\r\n\r\n    addTab(targetName) {\r\n      this.currentItemIndex ++\r\n      let newTabName = this.currentItemIndex + '';\r\n      this.itemList.push({\r\n        title: '步骤 '+this.currentItemIndex + 1,\r\n        name: newTabName,\r\n        index: this.currentItemIndex\r\n      });\r\n      this.editableTabsValue = newTabName;\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  .el-header {\r\n    /*background-color: #eeeeee;*/\r\n    color: #333;\r\n    line-height: 50px;\r\n  }\r\n  .tools-card {\r\n    margin: 0 5px;\r\n  }\r\n  .el-card {\r\n    padding: 8px;\r\n  }\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DbEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DbEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DbEdit.vue?vue&type=template&id=1938570c&scoped=true&\"\nimport script from \"./DbEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./DbEdit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DbEdit.vue?vue&type=style&index=0&id=1938570c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1938570c\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DbEdit.vue?vue&type=style&index=0&id=1938570c&scoped=true&lang=css&\""],"sourceRoot":""}